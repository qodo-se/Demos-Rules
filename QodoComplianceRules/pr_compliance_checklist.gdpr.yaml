pr_compliances:
  - title: "GDPR — Data Minimization"
    compliance_label: true
    objective: "To ensure only personal data that is strictly necessary for the specific purpose is collected and processed."
    success_criteria: "The code only collects and stores data fields that are essential for the feature's functionality. No hardcoded PII or real user data is present in tests or source code."
    failure_criteria: "The code collects excessive user data (e.g., full address when only a city is needed). PII is hardcoded in the source, or real user data is used in test suites."

  - title: "GDPR — Data Security & Encryption"
    compliance_label: true
    objective: "To protect personal data from unauthorized access or breaches by using strong encryption for data in transit and at rest, and by securing credentials."
    success_criteria: "All data transmission occurs over secure channels (e.g., HTTPS). Sensitive data stored in databases is encrypted (e.g., using AES-256). No secrets, API keys, or credentials are hardcoded; they are managed through a secure secrets management system."
    failure_criteria: "Data is sent over unencrypted HTTP. Sensitive data is stored in plaintext. Secrets or credentials are found hardcoded in the source code or configuration files."

  - title: "GDPR — Data Subject Rights (Access, Correction, Deletion)"
    compliance_label: true
    objective: "To provide users with the ability to exercise their rights to access, rectify, and erase their personal data."
    success_criteria: "The application provides APIs or user-facing features to access, correct, and delete personal data. Deletion routines are implemented to remove user data from all systems upon request."
    failure_criteria: "There are no mechanisms for users to view, edit, or delete their data. Deletion requests only perform a soft delete (e.g., setting an `is_deleted` flag) without a process for permanent removal."

  - title: "GDPR — Data Retention & Deletion Policies"
    compliance_label: true
    objective: "To ensure personal data is not kept for longer than necessary for the purposes for which it was collected."
    success_criteria: "The code includes logic or scheduled jobs to automatically delete or anonymize data that has exceeded its retention period. 'Right to be forgotten' routines are implemented and regularly tested."
    failure_criteria: "Data is stored indefinitely with no automated deletion or anonymization process. There is no implemented 'right to be forgotten' feature."

  - title: "Generic — Secure Logging Practices"
    compliance_label: true
    objective: "To ensure logs are useful for debugging and auditing without exposing sensitive information like PII, PHI, or cardholder data."
    success_criteria: "Logs are structured (e.g., JSON) for easy auditing. No sensitive data (PII, PHI, secrets, etc.) is present in any log output, at any log level."
    failure_criteria: "Sensitive data such as passwords, API keys, or personal user information is found in application logs. Logs are unstructured, making them difficult to parse and monitor effectively."

  - title: "Generic — Comprehensive Audit Trails"
    compliance_label: true
    objective: "To create a detailed and reliable record of critical system actions for security analysis and compliance."
    success_criteria: "All critical actions (e.g., read/write/delete of sensitive data, permission changes, user login events) are logged. Each log entry includes a user ID, timestamp, a clear description of the action, and the outcome."
    failure_criteria: "Critical actions are not logged, or the audit logs lack essential context, such as which user performed the action or what the action entailed, making it impossible to reconstruct events."

  - title: "Generic — Secure Error Handling"
    compliance_label: true
    objective: "To prevent the leakage of sensitive system information through error messages while providing sufficient detail for internal debugging."
    success_criteria: "User-facing errors are generic and do not expose internal implementation details (e.g., 'An internal error occurred'). Detailed error information, including stack traces, is only written to secure, internal logs."
    failure_criteria: "Stack traces, database error messages, or other internal system details are exposed to the end-user. Error messages inadvertently reveal sensitive information, such as the existence of a user account."
